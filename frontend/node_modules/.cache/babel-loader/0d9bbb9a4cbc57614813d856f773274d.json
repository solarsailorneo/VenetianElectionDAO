{"ast":null,"code":"var _jsxFileName = \"/home/siquike/projectsNode/04_15_22/moralis-poll/frontend/src/providers/MoralisDappProvider/MoralisDappProvider.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { useMoralis } from \"react-moralis\";\nimport MoralisDappContext from \"./context\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction MoralisDappProvider(_ref) {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  const {\n    web3,\n    Moralis,\n    user\n  } = useMoralis();\n  const [walletAddress, setWalletAddress] = useState();\n  const [chainId, setChainId] = useState();\n  const [contractABI, setContractABI] = useState('[{\"anonymous\": false, \"inputs\": [{\"indexed\": true, \"internalType\": \"bytes32\", \"name\": \"categoryId\", \"type\": \"bytes32\"}, {\"indexed\": false, \"internalType\": \"string\", \"name\": \"category\", \"type\": \"string\"}], \"name\": \"CategoryCreated\", \"type\": \"event\"}, {\"anonymous\": false, \"inputs\": [{\"indexed\": true, \"internalType\": \"bytes32\", \"name\": \"contentId\", \"type\": \"bytes32\"}, {\"indexed\": false, \"internalType\": \"string\", \"name\": \"contentUri\", \"type\": \"string\"}], \"name\": \"ContentAdded\", \"type\": \"event\"}, {\"anonymous\": false, \"inputs\": [{\"indexed\": true, \"internalType\": \"bytes32\", \"name\": \"postId\", \"type\": \"bytes32\"}, {\"indexed\": true, \"internalType\": \"address\", \"name\": \"postOwner\", \"type\": \"address\"}, {\"indexed\": true, \"internalType\": \"bytes32\", \"name\": \"parentId\", \"type\": \"bytes32\"}, {\"indexed\": false, \"internalType\": \"bytes32\", \"name\": \"contentId\", \"type\": \"bytes32\"}, {\"indexed\": false, \"internalType\": \"bytes32\", \"name\": \"categoryId\", \"type\": \"bytes32\"}], \"name\": \"PostCreated\", \"type\": \"event\"}, {\"anonymous\": false, \"inputs\": [{\"indexed\": true, \"internalType\": \"bytes32\", \"name\": \"postId\", \"type\": \"bytes32\"}, {\"indexed\": true, \"internalType\": \"address\", \"name\": \"postOwner\", \"type\": \"address\"}, {\"indexed\": true, \"internalType\": \"address\", \"name\": \"voter\", \"type\": \"address\"}, {\"indexed\": false, \"internalType\": \"uint80\", \"name\": \"reputationPostOwner\", \"type\": \"uint80\"}, {\"indexed\": false, \"internalType\": \"uint80\", \"name\": \"reputationVoter\", \"type\": \"uint80\"}, {\"indexed\": false, \"internalType\": \"int40\", \"name\": \"postVotes\", \"type\": \"int40\"}, {\"indexed\": false, \"internalType\": \"bool\", \"name\": \"up\", \"type\": \"bool\"}, {\"indexed\": false, \"internalType\": \"uint8\", \"name\": \"reputationAmount\", \"type\": \"uint8\"}], \"name\": \"Voted\", \"type\": \"event\"}, {\"inputs\": [{\"internalType\": \"string\", \"name\": \"_category\", \"type\": \"string\"}], \"name\": \"addCategory\", \"outputs\": [], \"stateMutability\": \"nonpayable\", \"type\": \"function\"}, {\"inputs\": [{\"internalType\": \"bytes32\", \"name\": \"_parentId\", \"type\": \"bytes32\"}, {\"internalType\": \"string\", \"name\": \"_contentUri\", \"type\": \"string\"}, {\"internalType\": \"bytes32\", \"name\": \"_categoryId\", \"type\": \"bytes32\"}], \"name\": \"createPost\", \"outputs\": [], \"stateMutability\": \"nonpayable\", \"type\": \"function\"}, {\"inputs\": [{\"internalType\": \"bytes32\", \"name\": \"_categoryId\", \"type\": \"bytes32\"}], \"name\": \"getCategory\", \"outputs\": [{\"internalType\": \"string\", \"name\": \"\", \"type\": \"string\"}], \"stateMutability\": \"view\", \"type\": \"function\"}, {\"inputs\": [{\"internalType\": \"bytes32\", \"name\": \"_contentId\", \"type\": \"bytes32\"}], \"name\": \"getContent\", \"outputs\": [{\"internalType\": \"string\", \"name\": \"\", \"type\": \"string\"}], \"stateMutability\": \"view\", \"type\": \"function\"}, {\"inputs\": [{\"internalType\": \"bytes32\", \"name\": \"_postId\", \"type\": \"bytes32\"}], \"name\": \"getPost\", \"outputs\": [{\"internalType\": \"address\", \"name\": \"\", \"type\": \"address\"}, {\"internalType\": \"bytes32\", \"name\": \"\", \"type\": \"bytes32\"}, {\"internalType\": \"bytes32\", \"name\": \"\", \"type\": \"bytes32\"}, {\"internalType\": \"int72\", \"name\": \"\", \"type\": \"int72\"}, {\"internalType\": \"bytes32\", \"name\": \"\", \"type\": \"bytes32\"}], \"stateMutability\": \"view\", \"type\": \"function\"}, {\"inputs\": [{\"internalType\": \"address\", \"name\": \"_address\", \"type\": \"address\"}, {\"internalType\": \"bytes32\", \"name\": \"_categoryID\", \"type\": \"bytes32\"}], \"name\": \"getReputation\", \"outputs\": [{\"internalType\": \"uint80\", \"name\": \"\", \"type\": \"uint80\"}], \"stateMutability\": \"view\", \"type\": \"function\"}, {\"inputs\": [{\"internalType\": \"bytes32\", \"name\": \"_postId\", \"type\": \"bytes32\"}, {\"internalType\": \"uint8\", \"name\": \"_reputationTaken\", \"type\": \"uint8\"}], \"name\": \"voteDown\", \"outputs\": [], \"stateMutability\": \"nonpayable\", \"type\": \"function\"}, {\"inputs\": [{\"internalType\": \"bytes32\", \"name\": \"_postId\", \"type\": \"bytes32\"}, {\"internalType\": \"uint8\", \"name\": \"_reputationAdded\", \"type\": \"uint8\"}], \"name\": \"voteUp\", \"outputs\": [], \"stateMutability\": \"nonpayable\", \"type\": \"function\"}]');\n  const [contractAddress, setContractAddress] = useState(\"\");\n  const [selectedCategory, setSelectedCategory] = useState({\n    \"categoryId\": \"0x91\",\n    \"category\": \"default\"\n  });\n  useEffect(() => {\n    Moralis.onChainChanged(function (chain) {\n      setChainId(chain);\n    });\n    Moralis.onAccountsChanged(function (address) {\n      setWalletAddress(address[0]);\n    }); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []); // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  useEffect(() => {\n    var _web3$givenProvider;\n\n    return setChainId((_web3$givenProvider = web3.givenProvider) === null || _web3$givenProvider === void 0 ? void 0 : _web3$givenProvider.chainId);\n  });\n  useEffect(() => {\n    var _web3$givenProvider2;\n\n    return setWalletAddress(((_web3$givenProvider2 = web3.givenProvider) === null || _web3$givenProvider2 === void 0 ? void 0 : _web3$givenProvider2.selectedAddress) || (user === null || user === void 0 ? void 0 : user.get(\"ethAddress\")));\n  }, [web3, user]);\n  return /*#__PURE__*/_jsxDEV(MoralisDappContext.Provider, {\n    value: {\n      walletAddress,\n      chainId,\n      selectedCategory,\n      setSelectedCategory,\n      contractABI,\n      setContractABI,\n      contractAddress,\n      setContractAddress\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 5\n  }, this);\n}\n\n_s(MoralisDappProvider, \"Lx3nVyh6cr6pe93S6/h/Q4v/iwg=\", false, function () {\n  return [useMoralis];\n});\n\n_c = MoralisDappProvider;\n\nfunction useMoralisDapp() {\n  _s2();\n\n  const context = React.useContext(MoralisDappContext);\n\n  if (context === undefined) {\n    throw new Error(\"useMoralisDapp must be used within a MoralisDappProvider\");\n  }\n\n  return context;\n}\n\n_s2(useMoralisDapp, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n\nexport { MoralisDappProvider, useMoralisDapp };\n\nvar _c;\n\n$RefreshReg$(_c, \"MoralisDappProvider\");","map":{"version":3,"sources":["/home/siquike/projectsNode/04_15_22/moralis-poll/frontend/src/providers/MoralisDappProvider/MoralisDappProvider.js"],"names":["React","useEffect","useState","useMoralis","MoralisDappContext","MoralisDappProvider","children","web3","Moralis","user","walletAddress","setWalletAddress","chainId","setChainId","contractABI","setContractABI","contractAddress","setContractAddress","selectedCategory","setSelectedCategory","onChainChanged","chain","onAccountsChanged","address","givenProvider","selectedAddress","get","useMoralisDapp","context","useContext","undefined","Error"],"mappings":";;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,UAAT,QAA2B,eAA3B;AACA,OAAOC,kBAAP,MAA+B,WAA/B;;;AAEA,SAASC,mBAAT,OAA2C;AAAA;;AAAA,MAAd;AAAEC,IAAAA;AAAF,GAAc;AACzC,QAAM;AAAEC,IAAAA,IAAF;AAAQC,IAAAA,OAAR;AAAiBC,IAAAA;AAAjB,MAA0BN,UAAU,EAA1C;AACA,QAAM,CAACO,aAAD,EAAgBC,gBAAhB,IAAoCT,QAAQ,EAAlD;AACA,QAAM,CAACU,OAAD,EAAUC,UAAV,IAAwBX,QAAQ,EAAtC;AACA,QAAM,CAACY,WAAD,EAAcC,cAAd,IAAgCb,QAAQ,CAAC,g1HAAD,CAA9C;AACA,QAAM,CAACc,eAAD,EAAkBC,kBAAlB,IAAwCf,QAAQ,CAAC,EAAD,CAAtD;AACA,QAAM,CAACgB,gBAAD,EAAmBC,mBAAnB,IAA0CjB,QAAQ,CAAC;AAAC,kBAAa,MAAd;AAAqB,gBAAW;AAAhC,GAAD,CAAxD;AAIAD,EAAAA,SAAS,CAAC,MAAM;AACdO,IAAAA,OAAO,CAACY,cAAR,CAAuB,UAAUC,KAAV,EAAiB;AACtCR,MAAAA,UAAU,CAACQ,KAAD,CAAV;AACD,KAFD;AAIAb,IAAAA,OAAO,CAACc,iBAAR,CAA0B,UAAUC,OAAV,EAAmB;AAC3CZ,MAAAA,gBAAgB,CAACY,OAAO,CAAC,CAAD,CAAR,CAAhB;AACD,KAFD,EALc,CAQd;AACD,GATQ,EASN,EATM,CAAT,CAVyC,CAqBzC;;AACAtB,EAAAA,SAAS,CAAC;AAAA;;AAAA,WAAMY,UAAU,wBAACN,IAAI,CAACiB,aAAN,wDAAC,oBAAoBZ,OAArB,CAAhB;AAAA,GAAD,CAAT;AACAX,EAAAA,SAAS,CACP;AAAA;;AAAA,WAAMU,gBAAgB,CAAC,yBAAAJ,IAAI,CAACiB,aAAL,8EAAoBC,eAApB,MAAuChB,IAAvC,aAAuCA,IAAvC,uBAAuCA,IAAI,CAAEiB,GAAN,CAAU,YAAV,CAAvC,CAAD,CAAtB;AAAA,GADO,EAEP,CAACnB,IAAD,EAAOE,IAAP,CAFO,CAAT;AAKA,sBACE,QAAC,kBAAD,CAAoB,QAApB;AAA6B,IAAA,KAAK,EAAE;AAAEC,MAAAA,aAAF;AAAiBE,MAAAA,OAAjB;AAA0BM,MAAAA,gBAA1B;AAA4CC,MAAAA,mBAA5C;AAAiEL,MAAAA,WAAjE;AAA8EC,MAAAA,cAA9E;AAA8FC,MAAAA,eAA9F;AAA+GC,MAAAA;AAA/G,KAApC;AAAA,cACGX;AADH;AAAA;AAAA;AAAA;AAAA,UADF;AAKD;;GAjCQD,mB;UACyBF,U;;;KADzBE,mB;;AAmCT,SAASsB,cAAT,GAA0B;AAAA;;AACxB,QAAMC,OAAO,GAAG5B,KAAK,CAAC6B,UAAN,CAAiBzB,kBAAjB,CAAhB;;AACA,MAAIwB,OAAO,KAAKE,SAAhB,EAA2B;AACzB,UAAM,IAAIC,KAAJ,CAAU,0DAAV,CAAN;AACD;;AACD,SAAOH,OAAP;AACD;;IANQD,c;;AAQT,SAAStB,mBAAT,EAA8BsB,cAA9B","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useMoralis } from \"react-moralis\";\nimport MoralisDappContext from \"./context\";\n\nfunction MoralisDappProvider({ children }) {\n  const { web3, Moralis, user } = useMoralis();\n  const [walletAddress, setWalletAddress] = useState();\n  const [chainId, setChainId] = useState();\n  const [contractABI, setContractABI] = useState('[{\"anonymous\": false, \"inputs\": [{\"indexed\": true, \"internalType\": \"bytes32\", \"name\": \"categoryId\", \"type\": \"bytes32\"}, {\"indexed\": false, \"internalType\": \"string\", \"name\": \"category\", \"type\": \"string\"}], \"name\": \"CategoryCreated\", \"type\": \"event\"}, {\"anonymous\": false, \"inputs\": [{\"indexed\": true, \"internalType\": \"bytes32\", \"name\": \"contentId\", \"type\": \"bytes32\"}, {\"indexed\": false, \"internalType\": \"string\", \"name\": \"contentUri\", \"type\": \"string\"}], \"name\": \"ContentAdded\", \"type\": \"event\"}, {\"anonymous\": false, \"inputs\": [{\"indexed\": true, \"internalType\": \"bytes32\", \"name\": \"postId\", \"type\": \"bytes32\"}, {\"indexed\": true, \"internalType\": \"address\", \"name\": \"postOwner\", \"type\": \"address\"}, {\"indexed\": true, \"internalType\": \"bytes32\", \"name\": \"parentId\", \"type\": \"bytes32\"}, {\"indexed\": false, \"internalType\": \"bytes32\", \"name\": \"contentId\", \"type\": \"bytes32\"}, {\"indexed\": false, \"internalType\": \"bytes32\", \"name\": \"categoryId\", \"type\": \"bytes32\"}], \"name\": \"PostCreated\", \"type\": \"event\"}, {\"anonymous\": false, \"inputs\": [{\"indexed\": true, \"internalType\": \"bytes32\", \"name\": \"postId\", \"type\": \"bytes32\"}, {\"indexed\": true, \"internalType\": \"address\", \"name\": \"postOwner\", \"type\": \"address\"}, {\"indexed\": true, \"internalType\": \"address\", \"name\": \"voter\", \"type\": \"address\"}, {\"indexed\": false, \"internalType\": \"uint80\", \"name\": \"reputationPostOwner\", \"type\": \"uint80\"}, {\"indexed\": false, \"internalType\": \"uint80\", \"name\": \"reputationVoter\", \"type\": \"uint80\"}, {\"indexed\": false, \"internalType\": \"int40\", \"name\": \"postVotes\", \"type\": \"int40\"}, {\"indexed\": false, \"internalType\": \"bool\", \"name\": \"up\", \"type\": \"bool\"}, {\"indexed\": false, \"internalType\": \"uint8\", \"name\": \"reputationAmount\", \"type\": \"uint8\"}], \"name\": \"Voted\", \"type\": \"event\"}, {\"inputs\": [{\"internalType\": \"string\", \"name\": \"_category\", \"type\": \"string\"}], \"name\": \"addCategory\", \"outputs\": [], \"stateMutability\": \"nonpayable\", \"type\": \"function\"}, {\"inputs\": [{\"internalType\": \"bytes32\", \"name\": \"_parentId\", \"type\": \"bytes32\"}, {\"internalType\": \"string\", \"name\": \"_contentUri\", \"type\": \"string\"}, {\"internalType\": \"bytes32\", \"name\": \"_categoryId\", \"type\": \"bytes32\"}], \"name\": \"createPost\", \"outputs\": [], \"stateMutability\": \"nonpayable\", \"type\": \"function\"}, {\"inputs\": [{\"internalType\": \"bytes32\", \"name\": \"_categoryId\", \"type\": \"bytes32\"}], \"name\": \"getCategory\", \"outputs\": [{\"internalType\": \"string\", \"name\": \"\", \"type\": \"string\"}], \"stateMutability\": \"view\", \"type\": \"function\"}, {\"inputs\": [{\"internalType\": \"bytes32\", \"name\": \"_contentId\", \"type\": \"bytes32\"}], \"name\": \"getContent\", \"outputs\": [{\"internalType\": \"string\", \"name\": \"\", \"type\": \"string\"}], \"stateMutability\": \"view\", \"type\": \"function\"}, {\"inputs\": [{\"internalType\": \"bytes32\", \"name\": \"_postId\", \"type\": \"bytes32\"}], \"name\": \"getPost\", \"outputs\": [{\"internalType\": \"address\", \"name\": \"\", \"type\": \"address\"}, {\"internalType\": \"bytes32\", \"name\": \"\", \"type\": \"bytes32\"}, {\"internalType\": \"bytes32\", \"name\": \"\", \"type\": \"bytes32\"}, {\"internalType\": \"int72\", \"name\": \"\", \"type\": \"int72\"}, {\"internalType\": \"bytes32\", \"name\": \"\", \"type\": \"bytes32\"}], \"stateMutability\": \"view\", \"type\": \"function\"}, {\"inputs\": [{\"internalType\": \"address\", \"name\": \"_address\", \"type\": \"address\"}, {\"internalType\": \"bytes32\", \"name\": \"_categoryID\", \"type\": \"bytes32\"}], \"name\": \"getReputation\", \"outputs\": [{\"internalType\": \"uint80\", \"name\": \"\", \"type\": \"uint80\"}], \"stateMutability\": \"view\", \"type\": \"function\"}, {\"inputs\": [{\"internalType\": \"bytes32\", \"name\": \"_postId\", \"type\": \"bytes32\"}, {\"internalType\": \"uint8\", \"name\": \"_reputationTaken\", \"type\": \"uint8\"}], \"name\": \"voteDown\", \"outputs\": [], \"stateMutability\": \"nonpayable\", \"type\": \"function\"}, {\"inputs\": [{\"internalType\": \"bytes32\", \"name\": \"_postId\", \"type\": \"bytes32\"}, {\"internalType\": \"uint8\", \"name\": \"_reputationAdded\", \"type\": \"uint8\"}], \"name\": \"voteUp\", \"outputs\": [], \"stateMutability\": \"nonpayable\", \"type\": \"function\"}]');\n  const [contractAddress, setContractAddress] = useState(\"\");\n  const [selectedCategory, setSelectedCategory] = useState({\"categoryId\":\"0x91\",\"category\":\"default\"});\n  \n\n\n  useEffect(() => {\n    Moralis.onChainChanged(function (chain) {\n      setChainId(chain);\n    });\n\n    Moralis.onAccountsChanged(function (address) {\n      setWalletAddress(address[0]);\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  useEffect(() => setChainId(web3.givenProvider?.chainId));\n  useEffect(\n    () => setWalletAddress(web3.givenProvider?.selectedAddress || user?.get(\"ethAddress\")),\n    [web3, user]\n  );\n\n  return (\n    <MoralisDappContext.Provider value={{ walletAddress, chainId, selectedCategory, setSelectedCategory, contractABI, setContractABI, contractAddress, setContractAddress }}>\n      {children}\n    </MoralisDappContext.Provider>\n  );\n}\n\nfunction useMoralisDapp() {\n  const context = React.useContext(MoralisDappContext);\n  if (context === undefined) {\n    throw new Error(\"useMoralisDapp must be used within a MoralisDappProvider\");\n  }\n  return context;\n}\n\nexport { MoralisDappProvider, useMoralisDapp };\n"]},"metadata":{},"sourceType":"module"}